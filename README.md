# 通达信数据修复工具 (AdaptDataFixer)

## 项目概述

通达信数据修复工具是一个专业的Python应用程序，用于修复和优化通达信金融数据。该工具采用模块化设计，实现了可扩展的修复规则系统，支持全量和增量修复模式，并提供了详细的日志记录和统计报告功能。

### 核心特性

- **模块化修复规则系统**：灵活配置和扩展各类数据修复规则
- **多种修复模式**：支持全量和增量数据修复
- **智能数据采样**：支持按行数或股票数量进行数据采样
- **详细日志和报告**：提供完整的修复过程记录和统计报告
- **高度可配置**：通过命令行参数或配置文件灵活调整处理流程

## 快速开始

### 安装

1. 克隆仓库
   ```bash
   git clone https://github.com/example/AdaptDataFixer.git
   cd AdaptDataFixer
   ```

2. 安装依赖
   ```bash
   pip install -r requirements.txt
   ```

### 基本使用

1. 准备数据文件（默认名称为`通达信数据.csv`）

2. 运行修复工具
   ```bash
   python src/main.py
   ```

3. 查看结果
   - 修复后的数据将保存为`repaired_通达信数据.csv`
   - 修复日志将保存在`src/`目录下

### 使用采样模式（用于测试）

```bash
python src/main.py --use_sample --sample_size 1000
```

## 项目结构

```
AdaptDataFixer/
├── src/                  # 源代码目录
│   ├── data_handlers/    # 数据处理模块
│   ├── repair_rules/     # 修复规则模块
│   ├── utils/            # 工具类模块
│   └── main.py           # 程序入口
├── docs/                 # 文档目录
│   ├── 开发进度报告.md     # 开发进度和计划
│   ├── 项目架构说明.md     # 项目架构详细说明
│   ├── 维护手册.md        # 系统维护指南
│   └── 用户指南.md        # 用户使用指南
├── tests/                # 测试目录
├── requirements.txt      # 项目依赖
└── README.md             # 项目说明
```

## 主要功能

### 数据修复规则

- **财务数据修复**：修复财务指标异常值，处理缺失数据
- **价格数据修复**：修复异常价格波动，验证价格数据一致性
- **封单数据修复**：修复开盘昨比数据，处理封单数据异常
- **市场特征修复**：优化市场特征指标，处理异常市场数据
- **交易数据修复**：修复交易量异常，处理大单、中单、小单数据

### 数据采样功能

- **按行数采样**：随机选择指定数量的数据行
- **按股票采样**：随机选择指定数量的股票，保留完整数据

### 数据比较功能

- 生成修复前后的数据对比报告
- 提供可视化的数据差异图表

## 配置选项

主要配置选项包括：

- 输入/输出文件路径
- 修复模式（全量/增量）
- 日志详细程度
- 采样设置（模式、数量、随机种子）

## 系统要求

- Python 3.7 或更高版本
- 依赖包：pandas, numpy, matplotlib, scikit-learn
- 推荐8GB RAM（处理大数据集建议16GB）
- 10GB可用磁盘空间

## 贡献指南

欢迎贡献代码、报告问题或提出改进建议。请遵循以下步骤：

1. Fork 项目仓库
2. 创建功能分支 (`git checkout -b feature/amazing-feature`)
3. 提交更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 创建 Pull Request

## 许可证

本项目采用 [MIT 许可证](LICENSE)。

## 联系方式

如有问题或建议，请联系：maijun2021@gmail.com
